<nav class="navbar">
    <div class="container">
        <div class="navbar-brand">
            <a href="{{ '/' | relative_url }}">
                <img src="{{ '/spartan_logo.png' | relative_url }}" alt="SPARTAN Logo" class="logo">
            </a>
            <h1>
                <a href="{{ '/' | relative_url }}">Strategic Platform for Autonomous Resilient and Trusted Agents @ NUS</a>
            </h1>
        </div>

        <ul class="navbar-menu">
            <li><a href="{{ '/' | relative_url }}" {% if page.url == '/' %}class="active"{% endif %}>About</a></li>

            <li class="dropdown">
                <button class="dropdown-toggle">
                    Funded Projects
                    <svg class="chevron" width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                        <path d="M4.5 6l3.5 3.5L11.5 6"/>
                    </svg>
                </button>
                <div class="dropdown-menu">
                    <a href="https://spartan-nus.github.io/agentfuture" target="_blank">Coding Agents of The Future</a>
                    <a href="https://ai-4-pr.github.io/" target="_blank">AI for Program Reasoning</a>
                    <a href="https://nus-apr.github.io/" target="_blank">Automated Program Repair</a>
                    <a href="https://nus-tss.github.io/" target="_blank">Trustworthy and Secure Software(TSS)</a>
                    <a href="https://nus-tss.github.io/fuzzing/" target="_blank">Fuzz Testing</a>
                </div>
            </li>

            <li><a href="{{ '/research' | relative_url }}" {% if page.url == '/research/' %}class="active"{% endif %}>Upcoming Efforts</a></li>
            <li><a href="{{ '/news' | relative_url }}" {% if page.url == '/news/' %}class="active"{% endif %}>News & Events</a></li>
            <li><a href="{{ '/people' | relative_url }}" {% if page.url == '/people/' %}class="active"{% endif %}>People</a></li>
            <li><a href="{{ '/contact' | relative_url }}" {% if page.url == '/contact/' %}class="active"{% endif %}>Contact</a></li>
        </ul>
    </div>
</nav>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const dropdowns = document.querySelectorAll('.dropdown');

    dropdowns.forEach(dropdown => {
        const toggle = dropdown.querySelector('.dropdown-toggle');

        toggle.addEventListener('click', function(e) {
            e.stopPropagation();
            dropdown.classList.toggle('open');
        });
    });

    document.addEventListener('click', function() {
        dropdowns.forEach(dropdown => {
            dropdown.classList.remove('open');
        });
    });
});
</script>
